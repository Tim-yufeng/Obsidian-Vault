## Some Basic Concepts
short circuit: 短路，resistance approaching 0
open circuit: 开路，resistance approaching infinity
不是所有电阻(resisitor)遵循Ohm's law, 遵循的称为linear resistor
还有一个概念是conductance，定义为电阻的倒数：
![[Pasted image 20250918102708.png]]  
于是，the power dissipated by a resistor: $p=vi=\frac{i^2}{G}=v^2 G$. 

**Branch**: A branch represents a single element, i.e. any two-terminal element.
**Node**: the point of connection between two or more branches
**Loop**: any closed path in a circuit
**Mesh**: A mesh is a loop that doesn't enclose any other loops.
## Kirchhoff's laws (KCL and KVL)
Kirchhoff's laws 包括 Kirchhoff's current law（KCL）和 Kirchhoff's voltage law (KVL)

KCL：The **algebraic sum** of currents entering a node (or a closed boundary) is zero. 
KVL：The **algebraic sum** of all voltages around a closed path (or loop) is zero.  

Series resistors: 串联电阻
Parallel resistors: 并联电阻
存在两种既不是并联也不是串联的电路结构，$\Delta$形和Y形，如下图所示：
![[Pasted image 20250923103408.png]]

这两种电路可以通过两个公式相互转化：

<p align="center">
  <img src="Pasted image 20250923103959.png" width="300"/>
  <img src="Pasted image 20250923104010.png" width="300"/>
</p>

（==仅适用于**电阻网络**，如果有电源或其他元件，不能直接套用==）
## Nodal Analysis
Step 1: 设立节点电压，如果电路图没有标注接地节点，就自己选取一个节点接地，电压记为0. 其余节点假设电压值，以接地节点为参考 （这个接地节点叫 reference node）

Step 2: 对除接地节点以外的节点使用 KCL，列出方程组。

Step 3：解方程组

我们知道，线性方程组可以写成矩阵的形式；事实上，有一种方法直接将电路信息，转化成相应的矩阵等式：
<p align="center">
  <img src="Pasted image 20250923144137.png" width="300"/>
  <img src="Pasted image 20250923144253.png" width="300"/>
</p>
使用该定理的注意事项：
1. 适用于只有**恒流源和线性电阻**的电路
2. 对角线元素是相应节点所有与之相连的电阻的倒数和
3. 其余元素是相应的**两个节点**间==直接==连接它们的电阻倒数之和==并且取负==
4. 如果两节点间不存在一个电阻直接连接它们，那么相应位置应该是0
5. 等式右边向量是该节点处所有由==直接相连==的==恒流源==灌==进去==的电流值之和（流入为正）
不难发现，这个矩阵是对称的。

如果我们要对存在电压源的电路进行节点分析呢？
电压源的存在带来了两种可能性：
1. 电压源连接reference node (0V) 和 non-reference node， 那么那个non-reference node可以直接解出，等于电压源提供的电压
2. 电压源连接两个non-reference node，那么这两节点的电压可以建立一个方程/约束
要注意的是，我们不能对和电压源直接相连的节点进行节点电流分析（使用KCL），因为**经过电压源的电流是多少我们无从得知**。

==这时我们可以将电压源连接的节点看成一个整体，然后对这个整体使用KCL==
比如在下面这个电路的分析中，我们就可以将红色虚线圈出的地方视为整体节点（答案已经标出）
![[Pasted image 20250925103708.png]]  
## Mesh Analysis
Mesh analysis 是一种基于KVL的方法，只适用于 planar circuit (可以被绘制在一个平面内的电路结构)
假设电路中没有电流源
Step 1: 选取所有的mesh, 每个mesh假设一个电流（包括方向）
Step 2: 对每个mesh使用KVL，列出方程组
Step 3：解方程组

和Node analysis一样，Mesh analysis也有直接转化成矩阵等式的方法：
![[Pasted image 20250925112139.png]]  
1. 前提是电路只有独立的电压源；
2. 对角线元素是相应Mesh的电阻总和
3. 其它位置元素是相应的两个Mesh==共用==的电阻和的==负数==
4. 假设的电流方向的独立电压源提供的电压总和，电压升高为正 
和之前的Node analysis 一样，如果电路中出现了电流源，我们同样需要使用整体法规避它，因为我们**无从得知电流源两边的电压变化** 

- [x] Assignment 1 ⏫ 📅 2025-10-19 ✅ 2025-10-03

## Circuit Theorem
### 电路基本定理
线性电路具有线性可加性，当电路存在多个独立的电源时，任意支路的电流和电压等于各电源单独作用（其它零值处理）的加和。

**零值处理：**==电压源短接（变导线），电流源断路==

### Thevenin’s Theorem
一个线性含源的二端网络可以等效为一个理想电压源和一个电阻的串联，其中：
电压源电压：等于==原输出端的开路电压==，写作 $V_{{Th}}$
电阻值：等于==对所有电源零值处理==后的==网络总阻值==，写作 $R_{{Th}}$

其中 $R_{{Th}}$ 的求解存在两种情况，如果电路中没有 dependent sources 的存在，那么把所有 independent sources "turn off" 就行了，但是如果存在 dependent sources 呢？

首先还是把所有 independent sources 关掉，保留 dependent sources 不动。
然后对输出端施加一个电压源 $v_0$ , 计算出通过的电流 $i_{0}$, 于是 $R_{Th}=\frac{v_{0}}{i_{0}}$
或者也可以施加一个电流源 $i_{0}$ , 计算两端电压 $v_{0}$, 同样 $R_{Th}=\frac{v_{0}}{i_{0}}$
![[Pasted image 20251009163637.png]] 
(电压源和电流源的取值随意，最后结果都是一样的)

如果没有 dependent sources 的存在，那么关掉所有 independent sources 后电路中应该只剩下电阻了，此时的总阻值 $R_{Th}$ 完全可以直接计算，而不用假设输出端电压 or 电流。

有时候可能会算出 $R_{Th}<0$ 的情况，并不意味着存在负值的电阻，而是代表这个电路在提供能量，而非耗能，这种情况在存在 dependent sources 的电路中可能出现。

### Norton's Theorem

这个定理其实和 source transformation 后的 Thevenin's  theorem 是等价的
![[Pasted image 20251009171156.png]] 
如果正常求解，$I_{N}$ 就是输出端的短路电流，$R_{N}$ 和前面一样。

### Maximum Power Transfer
Thevenin's theorem 在求解最大能量传输问题时非常有用。

在能量传输中，有两种目标：
1. Maximum power efficiency 能量传输效率最大化
2. Maximum power transfer 到达能量最大化
二者并不一致，前者要求$\eta=\frac{\text{Useful Power Output}}{\text{Total Power Output}}$ 尽可能大，这其实更容易求解，对于下图这样的一个简单输电模型来说，只要 $R_{L}$ 尽可能大就行了。
![[Pasted image 20251009180649.png]]但是第二种则涉及最值分析，因为我们假设的条件是输出总电压$V_{S}$ 是定值。我们之前就知道，这种情形下，$R_{L}=R_{S}$ 时，$R_{L}$ 的输出功率最大。

那么对于更复杂的电路呢？如何知道让某一个可调电阻的功率最大的阻值是多少？

利用Thevenin's theorem, 可以将整个电路等效为一个等效电压源串联一个等效电阻，再串联目标电阻，这时电路就被化简到了上图这个最简模型，可以直接利用结论了。

## Operational Amplifiers
Operational amplifiers, 简称 op amp, 是一个可以对输入电压进行放大的元件。
![[Pasted image 20251009181536.png]] 
如图所示，这就是一个 op amp 的基本结构
$v_{d}$ 称为 differential input voltage, $A$ 称为 open-loop voltage gain. 

这张图展示了op amp 的实际参数范围，和理想的参数值，其中等效的输入电阻 $R_{i}$ 应该是无穷大，等效的输出电阻 $R_{o}$ 应该是0，开环增益（没有外界反馈下的放大器增益）应该是无穷大。而供电电压 $V_{CC}$ 则没有一个理想值，而是取决于具体的应用场景。 
![[Pasted image 20251009214256.png]] 
Op amp 的放大电压有个限度，不会超过 $|V_{CC}|$ ，也就是绝对值不会超过供电电压的绝对值：
![[Pasted image 20251009215055.png]] 
### Idea Op Amp
假设我们探讨的 op amp 是理想的，也就是满足三个条件：
1. 等效输入电阻 $R_{i}=\infty$ (Infinite input resistance)
2. 等效输出电阻 $R_{o}=0$ (Zero output resistance)
3. 开环增益 $A=\infty$ (Infinite open-loop gain)
由此可以推知 理想 Op amp 的一些性质：
- 输入电流 $i_{1}=i_{2}=0$, (因为输入电阻无穷大)， 但是输出电流 $i_{o}$ 并不一定是零。
- $v_{1}=v_{2}$ (因为输入端电压差 $v_{d}=0$)，但是它们不一定是零
- [x] Lab 1 Report ⏫ 📅 2025-10-24 ✅ 2025-10-10
### Inverting Amplifier (Inverter)

简单来说，就是放大的同时反转了电压的方向：
![[Pasted image 20251016091515.png]]

### Noninverting Amplifier
 同样是放大电压，但是方向和原电压一致：
 ![[Pasted image 20251016092416.png]]
根据这个电压放大公式，可以发现，当 $R_{f}=0$ 或 $R_{1}$ 无穷大，或都满足时，放大倍数是1，两个电压一模一样，这是 **voltage follower**

![[Pasted image 20251016093134.png]]

### Op amp 在模拟数学运算上的应用
**加法器：**
![[Pasted image 20251016131511.png]]

**减法器：**
![[Pasted image 20251016131607.png]]

**连乘：**
<p align="center">
  <img src="Pasted image 20251016132034.png" width="320"/>
  <img src="Pasted image 20251016132737.png" width="320"/>
</p> 

## Capacitors and Inductors
### Capacitors
两个重要的等式，首先是电容的定义式:
$$
q=Cv
$$
$q$ 代表储存的电荷，$v$ 代表电压。因为是定义式，这个式子肯定对所有电容都适用，但是对于线性电容（如果 $C$ is independent of $v$, 那么这个电容就是 linear 的），$C$ 就是常数。

对于动态电容，$C$ 是电压的函数：$C(v)=\frac{dq}{dv}$

另一个等式是利用电容本身的物理性质计算其容量 (仅适用于线性的、理想平行板电容器！)：
$$
C=\epsilon_{r}\epsilon_{0}\frac{A}{d}
$$
$A$ 是面积，$\epsilon_{r}$ 是相对介电常数，$\epsilon_{0}$ 是真空介电常数，$\epsilon_{0}=8.854\times 10^{-12}\text{F m}^{-1}$ , $d$ 是两板间距。

由上面两个基本公式，可以推出以下结论：
$$
i=C \frac{dv}{dt}
$$
![[Pasted image 20251016144942.png]]

储存的能量：
$$
w=\frac{1}{2}Cv^2
$$
一个重要性质，由于电流的值满足 $i=C \frac{dv}{dt}$，这意味着==电压不能突变==，否则电流将会无穷大：
![[Pasted image 20251016145333.png]]

还有就是理想电容器会忠实履行储存能量的职责，不会由能量损耗，但是实际的电容器相当于并联着一个很大的电阻，会导致很小一部分的损耗：
![[Pasted image 20251016145508.png]]

**电容的叠加：**
![[Pasted image 20251016145645.png]]

如何理解这件事？根据 $i=C \frac{dv}{dt}$ 如果把 $dt$ 当作一个系数看待，$C$ 在这个式子中相当于 $R^{-1}$ , 也就是电导率

### Inductors
关于电感，一个重要结论是，当电流 $i$ 通过一个电感为 $L$ 的电感线圈时，产生的磁通量(magnetic flux) 是 $\psi =Li$  (别忘了 $\psi =B \cdot S$)

同时可以知道：$i(t_{0})=\frac{\psi(t_{0})}{L}$

根据 $\psi =Li$, 以及电磁感应定律: $v=\frac{d\psi}{dt}$ ， 我们可以得到线性电感的电流电压关系：
$$
v=L \frac{di}{dt} 
$$

理想的导线绕导体形成的电感线圈是电感计算公式如下：
![[Pasted image 20251016151107.png]]

**电感的能量：**
$$
w=\frac{1}{2}Li^2
$$
和电容很像，由于关系 $v=L \frac{di}{dt}$ 的存在，电流值 $i$ 也不能出现突变

实际的电感相当于串联了一个阻值很小的电阻，因此会有能量损耗：
![[Pasted image 20251016151806.png]]

由于在电流电压关系：$v=L \frac{di}{dt}$ 中，电感 $L$ 相当于电阻 $R$，因此电感的叠加关系和电阻的叠加是一致的：


- [x] 215 HW 2 ⏫ 📅 2025-10-31 ✅ 2025-10-19
- [x] 215 Lab2 Report ⏫ 📅 2025-10-31 ✅ 2025-10-18

运用电容，我们甚至可以用电路完成积分和微分的计算：
积分（对时间）：
![[Pasted image 20251021100700.png]]

微分（对时间）：
![[Pasted image 20251021101058.png]]

## First-Order Circuits

### Source-Free RC Circuit Response
假设电容初始状态已经充电，初始电压是 $v(0)=V_{0}$, 于是初始能量就是 $w_{c}(0)=\frac{1}{2}CV_{0}^2$

根据电容的特性，可以得到以下关系式：
![[Pasted image 20251021105739.png]]

由这个微分方程，可以解出：
$$
v(t)=v(0)e^{- \frac{t}{RC}}=V_{0}e^{- \frac{t}{RC}} 
$$
$v(t)$ 代表 $t$ 时间电容两端电压。

一个重要的概念是 time constant $\tau$ :
定义是：$v$ 下降到 $\frac{1}{e}$ (36.8%) 所需要的时间：
![[Pasted image 20251021103554.png]]
可以求出：$\tau=RC$
巧合的是，time constant $\tau$ 还是以 $t=0$ 处的斜率下降，降到0时的时间点，如下图所示：
![[Pasted image 20251021103743.png]]

### The Source-Free RL Circuit
类似的，假设初始电流是 $i(0)=I_{0}$ , 那么初始能量就是 $w_{L}(0)=\frac{1}{2}LI_{0}^{2}$

一样的方法，根据电路关系列出微分方程，求解后可以得到：
$$
i(t)=I_{0}e^{-\frac{t}{L/R}}
$$
在LR电路中，$\tau$ 的定义是 $\frac{L}{R}$, 起点切线的性质依然存在
![[Pasted image 20251021110835.png]]

**Power at the resistor and inductor:**

resistor：$p=I_{0}^{2}\mathrm{Re}^{-2t/\tau}$
inductor: 

![[Pasted image 20251023102151.png]]
![[Pasted image 20251023104323.png]]

### Singularity Functions

![[Pasted image 20251107211439.png]]

其中 Unit impulse 要求在0周围的积分结果为1
## Second Order Circuit

简单来说，就是求解既有 电容又有 电感的电路，由于电容会产生电压的微分项，电感则会产生电流的微分项，当它们同时出现在电路中，联立就会产生二阶微分方程。

两种情况，一种是串联 RLC，一种是 并联 RLC

### 串联 RLC：
以下面这个电路为例：
![[Pasted image 20251028110655.png]]

![[Pasted image 20251028110718.png]]

蓝色线标出的式子，就是这个电路的 characteristic equation

如何求解这个关于电流的二阶微分方程？首先需要两个初始值条件，电流及其一阶导的初始值。不难求出：
$$
i(0^+)=i(0^-)=I_{0}
$$
$$
i'(0^+)=-\frac{1}{L}(I_{0}R+V_{0})
$$
本课程介绍的做法是，假设一个解 $i=Ae^{st}$, 代入方程，然后解出参数 $s$, 根据初始值再确定 $A$
代入可以得到一个关于 s 的二次方程，解得：
![[Pasted image 20251030102041.png]]

由根号内的内容，由3个分类讨论：
![[Pasted image 20251030102128.png]]


### 并联 RLC
以下面电路为例，电容电流和电感电压的初始值分别是 $I_{0}$ 和 $V_{0}$
![[Pasted image 20251030102551.png]]

有趣的是，我们同样可以把 s 的两个解写成串联电路的形式，只不过 $\alpha$ 的含义由区别：
![[Pasted image 20251030102711.png]]

讨论根号内的三种情况分别产生的解：
![[Pasted image 20251030102757.png]]

==因为线性组合复数指数的两个系数不一定是实数，应该是两个共轭的复数，最终的结果就是，组合余弦函数的两个系数不一定相等，形成两个自由度。==

- [x] 215 HW 3 ⏫ 📅 2025-11-18 ✅ 2025-11-08


## Sinusoids and Phasors

本章的主要部分是复数的计算，涉及各种形式的复数，包括a+Jb, 指数表示，角度表示，计算的一般做法是，复数的加减计算，将双方都化成a+Jb形式，乘除运算化成角度表示，指数形式起到一个衔接的作用。
![[Pasted image 20251115225002.png]]

我们可以将电阻 Impedance 的定义拓展到复数，这样一来，电容和电感都可以视为电阻，和普通电阻一起进行电阻计算。其中
电容的阻值：
$$
Z=\frac{1}{J\omega C}
$$
电感的阻值：
$$
Z=J\omega L
$$

电容和电感分别代表了两种电压电流相位的差异，电容代表电流超前，电感代表电压超前（我们在150就知道，求导相当于超前 $\frac{\pi}{2}$ 的相位）

<p align="center">
  <img src="Pasted image 20251115225059.png" width="320"/>
  <img src="Pasted image 20251115225111.png" width="320"/>
</p>


电路的等效总阻值我们记为：$Z=|z|\angle\theta$
	如果已知交流电压表达式，是一个正弦函数形式，我们用电压的$A$ 除以总阻值的模，然后角度则是电压的相位角度减去电阻的角度。


KCL 和 KVL 同样适用，只是我们计算的东西都变成了复数

利用电容和电感能改变相位的特性，我们可以设计出 Phase-Shifter 电路，转化输入端电压为一个不同相位的输出端电压。（详细内容见 Slide）


## Sinusodial steady-state analysis

首先，前面学的 Mesh analysis 和 Nodal analysis 在复数电路中同样适用，，我们甚至可以用矩阵来计算（但是不建议，带复数的矩阵求逆计算量不是一般的大，而且卡西欧的矩阵计算不支持复数）

然后是Superposition theorem, 在纯电阻电路中，这个方法因为过于麻烦不是很实用，但是在复数电路中，如果出现了多个频率不同的电压源或者电流源，我们就必须使用Superposition theorem，分别计算不同频率的贡献，最后统一相加。

接下来是 Source transformation, 这个方法没有变化。

Thevinin 和 Norton 等效电路，没有变化，只是分析的东西变成了复数而已。

- [ ] ECE 215 HW4 📅 2025-11-28 

